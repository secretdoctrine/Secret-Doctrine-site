= render partial: 'partials/tree_block', :locals => { :display_contents => true, tree: @tree, contents: @contents }

%div{id: 'main_container_div', class: 'fullheight'}
  %table{id: 'book_headers', cols: '*, 200px'}
    %tr
      %td{id: 'book_header'}
        = @page.book.name
      %td{id: 'search_block'}
        = form_tag search_results_path, {:method => :get} do
          %input{type: :hidden, name: 'book_id', value: @page.book.id}
          %input{id: 'search_lite', name: 'search_text'}
          %button{type: 'submit'}
            =I18n.t('library.search')
    %tr
      %td{id: 'page_header', colspan: '2'}
        = @page.display_name

  %div{id: 'page_container'}
    - unless @page.prev.nil?
      = link_to '<', book_page_path(@page.book, @page.prev.url_name), id: 'previous_page'
    %iframe{src: "#{book_page_external_page_content_path(@page.book, @page, @page.html_content, highlight_words: params[:highlight_words])}"}
    - unless @page.next.nil?
      = link_to '>', book_page_path(@page.book, @page.next.url_name), id: 'next_page'

= render partial: 'partials/book_view_resize_script'