:javascript

  function set_html_size() {
    var width, height, minWidth;
    if(#{html_width} == 0) {
      width = window.innerWidth - 370 - 2*80 - 30 + "px";
      minWidth = "300px"
    }
    else
    {
      width = #{html_width} + "px";
      minWidth = #{html_width} + 2*80 + 30 + "px";
    }

    if(#{html_height} == 0) {
      height = window.innerHeight - 209 - 180 + 200 + "px";
      maxHeight = window.innerHeight - 209 + 200 - $("#contents_header").height() + "px";
    }
    else
    {
      height = #{html_height} + "px";
      maxHeight = #{html_height} + 180 - $("#contents_header").height() + "px";
    }

    $("iframe").each(function() {
      this.style.width = width;
      this.style.height = height;
    })

    $("object").each(function() {
      this.style.width = width;
      this.style.height = height;
    })

    $("#next_page").each(function() {
      this.style.height = height;
    })

    $("#previous_page").each(function() {
      this.style.height = height;
    })

    $("#page_container").each(function() {
      this.style.minWidth = minWidth;
    })

    $("#contents_body").each(function() {
      this.style.maxHeight = maxHeight;
    })

  }

  set_html_size();