= form_for [refinery, :authors_admin, @poem] do |f|
  = render '/refinery/admin/error_messages',
              :object => @poem,
              :include_object_name => true

  - if @poem.id.nil?
    / This is 'new'
    = f.hidden_field :author_id, {:value => @parent.id}
    = f.hidden_field :order_number, {:value => @parent.get_next_order_number}
  - else
    / This is 'edit'
    = f.hidden_field :author_id, {:value => @poem.author_id}
    = f.hidden_field :order_number, {:value => @poem.order_number}

  %div.field
    = f.label :title
    = f.text_field :title

  %div.field
    = render '/refinery/admin/wysiwyg',
                :f => f,
                :fields => [:content, :short_content],
                :object => "authors/poem"

  %div.field
    = f.label :picture
    = render '/refinery/admin/image_picker',
               :f => f,
               :field => :picture_id,
               :image => @poem.picture,
               :toggle_image_display => false

  = render '/refinery/admin/form_actions', :f => f,
             :continue_editing => false,
             :delete_title => t('delete', :scope => 'refinery.poems.admin.poems.poem'),
             :delete_confirmation => t('message', :scope => 'refinery.admin.delete')

