- tree_element.child_elements.each do |child_element|
  - li_class = child_element.is_open ? 'jstree-open' : nil
  %li{class: "#{li_class}", selected: "#{child_element.selected}", type: "#{child_element.type + '#' + child_element.id.to_s}"}
    = link_to controller: child_element.controller, action: child_element.action, id: child_element.id do
      %span{class: 'tree_prefix'}
        = child_element.tree_prefix
      = child_element.name
    - if not child_element.child_elements.empty?
      %ul
        = render partial: 'library/partials/tree_level_li', locals: {tree_element: child_element}